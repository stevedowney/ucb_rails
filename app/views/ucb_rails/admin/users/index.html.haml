%h1 Users

%p= link_to_new_user

= bs_table UcbRails::User do
  %thead
    %tr
      %th.min Admin?
      %th First Name
      %th Last Name
      %th Email
      %th Phone
      %th Last Request At
      %th UID
      %th Edit
      %th Delete
  %tbody.highlight
    = render partial: 'ucb_rails/admin/users/user', collection: @users
    
= render :partial => 'ucb_rails/application/ldap_person_search_modal', locals: {xsearch_path: 'add_user_search_path'}

:javascript
  $('#ucb_rails_users').dataTable({
    "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
    "sPaginationType": "bootstrap",
    "bStateSave": true,
    "iDisplayLength": 20,
    "aLengthMenu": [[10, 20, 50, -1], [10, 20, 50, 'All']],
    "aaSorting": [[ 5, "desc" ]],
    "aoColumnDefs": [
          { "aDataSort": [ 0, 1, 2 ], "aTargets": [ 0 ] }, // admin
          { "aDataSort": [ 1, 2 ], "aTargets": [ 1 ] }, // first name
          { "aDataSort": [ 2, 1], "aTargets": [ 2 ] },   // last name
          { "bSortable": false, "aTargets": [ 7 ] },   // edit
          { "bSortable": false, "aTargets": [ 8 ] },   // delete
        ]
  });
  